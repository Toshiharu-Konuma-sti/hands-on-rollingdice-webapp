		<ol id="menu-roll">
			<li class="li-spacing"><a th:href="${cUrl}">Roll normally</a></li>

			<li><a th:href="${cUrl} + '?sleep=5'" onclick="putLoadingImage();">Sleep 5 sec at API</a></li>
			<li><a th:href="${cUrl} + '?sleep=15'" onclick="putLoadingImage();">Sleep 15 sec at API</a></li>
			<li class="li-spacing"><a th:href="${cUrl} + '?sleep=30'" onclick="putLoadingImage();">Sleep 30 sec at API</a></li>

			<li><a th:href="${cUrl} + '?loop=5'" onclick="putLoadingImage();">Loop 5 sec at API</a></li>
			<li><a th:href="${cUrl} + '?loop=15'" onclick="putLoadingImage();">Loop 15 sec at API</a></li>
			<li class="li-spacing"><a th:href="${cUrl} + '?loop=30'" onclick="putLoadingImage();">Loop 30 sec at API</a></li>

			<li class="li-spacing"><a th:href="${cUrl} + '?error=true'">Cause 5xx error at API</a></li>

			<li class="li-spacing"><a href="#" id="simulate-error-link">Cause JS error at Browser</a></li>

			<li>
				<div class="compact-wrapper">Force specific value
					<div class="force-val-container slider-row">
						<span>0</span>
						<input type="range" id="dice-slider" th:value="${dice}" min="0" max="7" step="1" list="eyelist">
						<span>7</span>
						<datalist id="eyelist">
							<option value="0"></option>
							<option value="1"></option>
							<option value="2"></option>
							<option value="3"></option>
							<option value="4"></option>
							<option value="5"></option>
							<option value="6"></option>
							<option value="7"></option>
						</datalist>
					</div>
					<div class="force-val-container button-row">
						<a id="dice-link" class="dice-btn" th:href="${cUrl} + '?value=' + ${dice}" th:data-base-url="${cUrl}">
							<span style="margin-right: 5px; vertical-align: middle;">Roll with:</span>
							<img id="dice-preview" th:src="'/image/dice32_' + ${dice} + '.png'" style="vertical-align: middle;">
						</a>
					</div>
				</div>
			</li>
		</ol>

<script>
function updateDiceImage(event) {
	const currentValue = event.target.value;
	const image = document.getElementById('dice-preview');
	const link = document.getElementById('dice-link');

	image.src = '/image/dice32_' + currentValue + '.png';
	const baseUrl = link.getAttribute('data-base-url');
	link.href = baseUrl + '?value=' + currentValue;
}
function initDicePage() {
	const slider = document.getElementById('dice-slider');
	slider.addEventListener('input', updateDiceImage);
}
document.addEventListener('DOMContentLoaded', initDicePage);
</script>

<style>
/* テキストとコントロールを囲むラッパー */
.compact-wrapper {
	/* 中身（テキスト「Force specific value」）の幅に合わせて自身の幅を縮める */
	width: fit-content;
}

/* 共通のコンテナ幅設定 */
.force-val-container {
	width: 100%;           /* 親要素に合わせる */
	margin: 5px 0;         /* 上下の隙間 */
	box-sizing: border-box;
}

/* スライダー行のデザイン */
.slider-row {
	display: flex;         /* 横並びにする */
	align-items: center;   /* 縦方向の中央揃え */
	justify-content: space-between; /* 両端揃え */
	gap: 10px;             /* 数字とスライダーの隙間 */
}

/* スライダー本体 */
#dice-slider {
	flex-grow: 1;          /* 空きスペースいっぱいに広げる */
	width: auto;           /* デフォルトの固定幅を解除 */
	cursor: pointer;
}

/* ボタンのデザイン（既存の修正） */
.dice-btn {
	/* display: inline-flex;  ← これを削除または上書き */
	display: flex;         /* ★変更: flexにして幅いっぱい使う */
	width: 100%;           /* ★追加: コンテナ幅いっぱいに広げる */
	box-sizing: border-box; /* paddingを含めて幅を計算する */

	/* 以下は既存のまま */
	align-items: center;
	justify-content: center;

	text-decoration: none;
	background-color: #f0f0f0;
	color: #333;
	border: 1px solid #ccc;
	border-radius: 4px;
	padding: 5px 15px;

	cursor: pointer;
	box-shadow: 0 2px 2px rgba(0,0,0,0.1);
	transition: all 0.2s;
}

/* マウスを乗せた時 */
.dice-btn:hover {
	background-color: #e0e0e0;  /* 背景を少し濃く */
	box-shadow: 0 4px 4px rgba(0,0,0,0.15); /* 影を強調して浮いたように見せる */
	transform: translateY(-1px); /* 1ピクセル上に移動 */
}

/* クリックした瞬間 */
.dice-btn:active {
	background-color: #d0d0d0;
	box-shadow: none;           /* 影を消して押し込んだように見せる */
	transform: translateY(1px); /* 1ピクセル下に移動 */
}

/* 以前作成した無効化クラスとの組み合わせ用 */
/* 親のliにdisabled-linkがついた場合、このボタンも半透明にして操作不可にする */
.disabled-link .dice-btn,
.dice-btn.disabled-link {
	pointer-events: none;
	opacity: 0.6;
	box-shadow: none;
	cursor: default;
}
</style>